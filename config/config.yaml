# LLM 설정
llm:
  model: "gpt-4"
  temperature: 0.7
  max_tokens: 2000

# 임베딩 설정
embedding:
  model: "sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2"
  dimension: 384

# Retriever 설정
retriever:
  top_k: 10  # 한번에 10개 검색
  similarity_threshold: 0.6
  max_loop_count: 1
  
  # Hybrid 가중치
  vector_weight: 0.7
  keyword_weight: 0.3

# 문서 검증 설정 (관련성 체크)
document_validation:
  relevance_threshold: 0.6  # 관련성 임계값

# 컨텍스트 검증 설정
context_validation:
  enabled: true

# 조건부 체크 설정
conditional_check:
  enabled: true

# 답변 생성 설정
answer_generation:
  helpfulness_threshold: 0.6  # 답변 가능성 임계값

# 카테고리 목록
categories:
  - "수강신청"
  - "성적"
  - "휴학/복학"
  - "장학금"
  - "졸업"
  - "학적"
  - "기타"

# 프롬프트 템플릿
prompts:
  query_classification: |
    다음 질문이 대학교 교학팀 문의 사항인지 판별하고, 맞다면 카테고리를 분류해주세요.

    질문: {query}

    카테고리 목록: {category}

    다음 형식으로만 답변하세요:
    - 가비지 쿼리 (교학팀과 무관)인 경우: "GARBAGE"
    - 정상 쿼리인 경우: "VALID|카테고리명"

    예시:
    - "안녕하세요" → GARBAGE
    - "수강신청 기간이 언제인가요?" → VALID|수강신청
    - "휴학 신청 방법 알려주세요" → VALID|휴학/복학|장학

    답변:
  
  answer_generation: |
    다음 규정을 바탕으로 질문에 명확히 답변하세요.
    질문: {query}
    규정: {context}
    답변:

  context_validation: |
    다음 문서들로 사용자 질문에 답변할 수 있는지 판단하세요.
    질문: {query}
    문서: {context}
    "YES" 또는 "NO|이유" 형식으로 답변:
  
  conditional_check: |
    답변이 사용자의 개별 조건에 따라 달라지는지 판단하세요.
    질문: {query}
    "CONDITIONAL" 또는 "COMPLETE"로 답변:
  
  conditional_response_with_docs: |
    규정을 바탕으로 답변하되, 개별 상황이 필요함을 명시하세요.
    질문: {query}
    규정: {context}